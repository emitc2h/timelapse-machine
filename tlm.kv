#:import tlm ui.core.tlm

<TLM>:

    viewer:     _viewer
    parameters: _parameters

    ## Topbar ui elements
    ui_open:   _topbar.ui_open
    ui_path:   _topbar.ui_path
    ui_cancel: _topbar.ui_cancel
    ui_save:   _topbar.ui_save
    ui_render: _topbar.ui_render

    ## Parameters ui elements
    ui_codec:    _parameters.ui_codec
    ui_fps:      _parameters.ui_fps
    ui_ratio:    _parameters.ui_ratio
    ui_width:    _parameters.ui_width
    ui_height:   _parameters.ui_height
    ui_original: _parameters.ui_original

    ## Viewer ui elements
    ui_screen:  _viewer.ui_screen
    ui_slider:  _viewer.ui_slider
    ui_begin:   _viewer.ui_begin
    ui_back:    _viewer.ui_back
    ui_reverse: _viewer.ui_reverse
    ui_pause:   _viewer.ui_pause
    ui_play:    _viewer.ui_play
    ui_forward: _viewer.ui_forward
    ui_end:     _viewer.ui_end

    BoxLayout:
        canvas.before:
            Color:
                rgb: 0.1, 0.1, 0.1
            Rectangle:
                size: self.size
                pos: self.pos
        orientation: 'vertical'
        padding: 5
        spacing: 7
        AnchorLayout:
            anchor_y: 'top'
            anchor_x: 'left'
            size_hint_y: None
            height: 60
            TopBar:
                id: _topbar
                tlm: root
        BoxLayout:
            orientation: 'horizontal'
            spacing: 7
            BoxLayout:
                orientation: 'vertical'
                spacing: 7
                BoxLayout:
                    orientation: 'horizontal'
                    spacing: 7
                    AnchorLayout:
                        anchor_y: 'top'
                        anchor_x: 'left'
                        size_hint_x: None
                        width: 600
                        BoxLayout:
                            orientation: 'vertical'
                            spacing: 7
                            Parameters:
                                id: _parameters
                                tlm: root
                            BoxLayout:
                                orientation: 'vertical'
                    RelativeLayout:
                        canvas.before:
                            Color:
                                rgb: 0,0,0
                            Rectangle:
                                size: self.size
                                pos: 0,0
                        Viewer:
                            id: _viewer
                            parameters: _parameters
                AnchorLayout:
                    anchor_y: 'bottom'
                    anchor_x: 'left'
                    size_hint_y: None
                    height: 400
                    CurveEditor:
                        id: _curve_editor
            AnchorLayout:
                anchor_x: 'right'
                anchor_y: 'top'
                size_hint_x: None
                width: 500
                Configuration:
                    id: _configuration

<OpenDialog>:

    filebrowser: _filebrowser

    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileBrowser:
            id: _filebrowser
            dirselect: True